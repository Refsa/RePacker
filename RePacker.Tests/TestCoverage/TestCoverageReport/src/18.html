<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <title>C:\Users\Refsa\Documents\repackage\csharp\RePacker\Utils\TypeExt.cs</title>
    <script type="text/javascript" src="../js/dotcover.sourceview.js"></script>
    <link rel="stylesheet" type="text/css" href="../css/dotcover.report.css" />
  </head>
  <body>
    <pre id="content" class="source-code">
using System;
using System.Collections.Generic;

namespace RePacker.Utils
{
    public static class TypeExt
    {
        ref struct UnmanagedProxy&lt;T&gt; where T : unmanaged { }

        public static bool IsUnmanaged(this Type self)
        {
            try
            {
                typeof(UnmanagedProxy&lt;&gt;).MakeGenericType(self);
                if (!self.IsValueType) return false;
                if (Nullable.GetUnderlyingType(self) != null) return true;
                return false;
            }
            catch
            {
                return false;
            }
        }

        public static bool IsUnmanagedStruct(this Type self)
        {
            try
            {
                typeof(UnmanagedProxy&lt;&gt;).MakeGenericType(self);
                return true;
            }
            catch
            {
                return false;
            }
        }

        ref struct IsStructProxy&lt;T&gt; where T : struct { }
        public static bool IsStruct(this Type self)
        {
            try
            {
                typeof(IsStructProxy&lt;&gt;).MakeGenericType(self);
                return true;
            }
            catch
            {
                return false;
            }
        }

        public static bool HasInterface&lt;T&gt;(this Type type)
        {
            foreach (var interfaceType in type.GetInterfaces())
            {
                if (interfaceType == type)
                {
                    return true;
                }
            }

            return false;
        }

        public static bool HasInterface(this Type type, Type interfaceType)
        {
            RePacking.Settings.Log.Log(type + &quot; - &quot; + interfaceType.MakeGenericType(type.GenericTypeArguments[0]));
            foreach (var it in type.GetInterfaces())
            {
                if (interfaceType == it)
                {
                    return true;
                }
            }

            return false;
        }
    }
}
    </pre>
    <script type="text/javascript">
      highlightRanges([[11,9,11,10,1],[11,9,11,10,1],[11,9,11,10,1],[11,9,11,10,1],[11,9,11,10,1],[13,13,13,14,1],[13,13,13,14,1],[13,13,13,14,1],[13,13,13,14,1],[13,13,13,14,1],[14,17,14,64,1],[14,17,14,64,1],[14,17,14,64,1],[14,17,14,64,1],[14,17,14,64,1],[15,17,15,39,1],[15,17,15,39,1],[15,17,15,39,1],[15,17,15,39,1],[15,17,15,39,1],[15,40,15,53,0],[15,40,15,53,0],[15,40,15,53,0],[15,40,15,53,0],[15,40,15,53,0],[16,17,16,62,1],[16,17,16,62,1],[16,17,16,62,1],[16,17,16,62,1],[16,17,16,62,1],[16,63,16,75,0],[16,63,16,75,0],[16,63,16,75,0],[16,63,16,75,0],[16,63,16,75,0],[17,17,17,30,1],[17,17,17,30,1],[17,17,17,30,1],[17,17,17,30,1],[17,17,17,30,1],[19,13,19,18,1],[19,13,19,18,1],[19,13,19,18,1],[19,13,19,18,1],[19,13,19,18,1],[20,13,20,14,1],[20,13,20,14,1],[20,13,20,14,1],[20,13,20,14,1],[20,13,20,14,1],[21,17,21,30,1],[21,17,21,30,1],[21,17,21,30,1],[21,17,21,30,1],[21,17,21,30,1],[23,9,23,10,1],[23,9,23,10,1],[23,9,23,10,1],[23,9,23,10,1],[23,9,23,10,1],[26,9,26,10,1],[26,9,26,10,1],[26,9,26,10,1],[26,9,26,10,1],[26,9,26,10,1],[28,13,28,14,1],[28,13,28,14,1],[28,13,28,14,1],[28,13,28,14,1],[28,13,28,14,1],[29,17,29,64,1],[29,17,29,64,1],[29,17,29,64,1],[29,17,29,64,1],[29,17,29,64,1],[30,17,30,29,1],[30,17,30,29,1],[30,17,30,29,1],[30,17,30,29,1],[30,17,30,29,1],[32,13,32,18,1],[32,13,32,18,1],[32,13,32,18,1],[32,13,32,18,1],[32,13,32,18,1],[33,13,33,14,1],[33,13,33,14,1],[33,13,33,14,1],[33,13,33,14,1],[33,13,33,14,1],[34,17,34,30,1],[34,17,34,30,1],[34,17,34,30,1],[34,17,34,30,1],[34,17,34,30,1],[36,9,36,10,1],[36,9,36,10,1],[36,9,36,10,1],[36,9,36,10,1],[36,9,36,10,1],[40,9,40,10,1],[40,9,40,10,1],[40,9,40,10,1],[40,9,40,10,1],[40,9,40,10,1],[42,13,42,14,1],[42,13,42,14,1],[42,13,42,14,1],[42,13,42,14,1],[42,13,42,14,1],[43,17,43,63,1],[43,17,43,63,1],[43,17,43,63,1],[43,17,43,63,1],[43,17,43,63,1],[44,17,44,29,0],[44,17,44,29,0],[44,17,44,29,0],[44,17,44,29,0],[44,17,44,29,0],[46,13,46,18,1],[46,13,46,18,1],[46,13,46,18,1],[46,13,46,18,1],[46,13,46,18,1],[47,13,47,14,1],[47,13,47,14,1],[47,13,47,14,1],[47,13,47,14,1],[47,13,47,14,1],[48,17,48,30,1],[48,17,48,30,1],[48,17,48,30,1],[48,17,48,30,1],[48,17,48,30,1],[50,9,50,10,1],[50,9,50,10,1],[50,9,50,10,1],[50,9,50,10,1],[50,9,50,10,1],[53,9,53,10,0],[53,9,53,10,0],[53,9,53,10,0],[53,9,53,10,0],[53,9,53,10,0],[54,13,54,20,0],[54,13,54,20,0],[54,13,54,20,0],[54,13,54,20,0],[54,13,54,20,0],[54,22,54,39,0],[54,22,54,39,0],[54,22,54,39,0],[54,22,54,39,0],[54,22,54,39,0],[54,40,54,42,0],[54,40,54,42,0],[54,40,54,42,0],[54,40,54,42,0],[54,40,54,42,0],[54,43,54,63,0],[54,43,54,63,0],[54,43,54,63,0],[54,43,54,63,0],[54,43,54,63,0],[55,13,55,14,0],[55,13,55,14,0],[55,13,55,14,0],[55,13,55,14,0],[55,13,55,14,0],[56,17,56,43,0],[56,17,56,43,0],[56,17,56,43,0],[56,17,56,43,0],[56,17,56,43,0],[57,17,57,18,0],[57,17,57,18,0],[57,17,57,18,0],[57,17,57,18,0],[57,17,57,18,0],[58,21,58,33,0],[58,21,58,33,0],[58,21,58,33,0],[58,21,58,33,0],[58,21,58,33,0],[60,13,60,14,0],[60,13,60,14,0],[60,13,60,14,0],[60,13,60,14,0],[60,13,60,14,0],[62,13,62,26,0],[62,13,62,26,0],[62,13,62,26,0],[62,13,62,26,0],[62,13,62,26,0],[63,9,63,10,0],[63,9,63,10,0],[63,9,63,10,0],[63,9,63,10,0],[63,9,63,10,0],[66,9,66,10,0],[66,9,66,10,0],[66,9,66,10,0],[66,9,66,10,0],[66,9,66,10,0],[67,13,67,116,0],[67,13,67,116,0],[67,13,67,116,0],[67,13,67,116,0],[67,13,67,116,0],[68,13,68,20,0],[68,13,68,20,0],[68,13,68,20,0],[68,13,68,20,0],[68,13,68,20,0],[68,22,68,28,0],[68,22,68,28,0],[68,22,68,28,0],[68,22,68,28,0],[68,22,68,28,0],[68,29,68,31,0],[68,29,68,31,0],[68,29,68,31,0],[68,29,68,31,0],[68,29,68,31,0],[68,32,68,52,0],[68,32,68,52,0],[68,32,68,52,0],[68,32,68,52,0],[68,32,68,52,0],[69,13,69,14,0],[69,13,69,14,0],[69,13,69,14,0],[69,13,69,14,0],[69,13,69,14,0],[70,17,70,41,0],[70,17,70,41,0],[70,17,70,41,0],[70,17,70,41,0],[70,17,70,41,0],[71,17,71,18,0],[71,17,71,18,0],[71,17,71,18,0],[71,17,71,18,0],[71,17,71,18,0],[72,21,72,33,0],[72,21,72,33,0],[72,21,72,33,0],[72,21,72,33,0],[72,21,72,33,0],[74,13,74,14,0],[74,13,74,14,0],[74,13,74,14,0],[74,13,74,14,0],[74,13,74,14,0],[76,13,76,26,0],[76,13,76,26,0],[76,13,76,26,0],[76,13,76,26,0],[76,13,76,26,0],[77,9,77,10,0],[77,9,77,10,0],[77,9,77,10,0],[77,9,77,10,0],[77,9,77,10,0]]);
    </script>
  </body>
</html>